{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nconst axios2 = axios.create({\n    baseURL: \"https://pixabay.com/api/\",\n    params: {\n        key: \"48847177-927ba4e40b84ac1d7e4adedbb\",\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    }\n});\n\nexport function createRequest(q) {\n    return axios2.get(\"\", {params:{q}}).then((res => res.data.hits));\n}","export function requestMarkups(data) {\n    const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = data;\n    return `<li>\n            <div class=\"card\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                  <img\n                    class=\"card-image\"\n                    src=\"${webformatURL}\"\n                    alt=\"${tags}\"\n                  />\n              </a>\n              <div class=\"card-content\">\n                <ul>\n                  <li><h5>Likes</h5></li>\n                  <li><p>${likes}</p></li>\n                </ul>\n                <ul>\n                  <li><h5>Views</h5></li>\n                  <li><p>${views}</p></li>\n                </ul>\n                <ul>\n                  <li><h5>Comments</h5></li>\n                  <li><p>${comments}</p></li>\n                </ul>\n                <ul>\n                  <li><h5>Downloads</h5></li>\n                  <li><p>${downloads}</p></li>\n                </ul>\n              </div>\n            </div>\n          </li>`;\n};\n\nexport function requestsMarkups(arr) {\n    return arr.map(requestMarkups).join(\"\");\n};\n\n\n","import { createRequest } from './js/pixabay-api.js';\nimport { requestsMarkups } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n    cardList: document.querySelector('.card-list'),\n    form: document.querySelector('.form-style'),\n    loader: document.querySelector('.loader')\n};\n\nrefs.form.addEventListener(\"submit\", handleSubmit);\n\nlet lightbox = new SimpleLightbox('.card-list a', {\n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nlet intervalId; \n\nfunction handleSubmit(e) {\n    e.preventDefault();\n    const search = e.currentTarget.elements.query.value.trim();\n\n    if (!search) {\n        iziToast.warning({\n            title: \"Warning\",\n            message: \"âš ï¸ Please enter a search query!\",\n            position: \"topRight\",\n        });\n        return;\n    }\n\n    refs.loader.style.display = \"block\";\n\n    if (intervalId) {\n        clearInterval(intervalId);\n    }\n\n    intervalId = setInterval(() => {\n        createRequest(search)\n            .then(data => {\n                if (!data.length) {\n                    iziToast.info({\n                        title: \"Not found\",\n                        message: \"ðŸ˜¢ Sorry, there are no images matching your search query. Please try again!\",\n                        position: \"topRight\",\n                    });\n                    return;\n                }\n                refs.cardList.innerHTML = requestsMarkups(data);\n                lightbox.refresh();\n            })\n            .catch(error => {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"ðŸš¨ Sorry, something went wrong. Please try again!\",\n                    position: \"topRight\",\n                });\n            })\n            .finally(() => {\n                refs.loader.style.display = \"none\";\n            });\n    }, 3000);\n\n    e.currentTarget.reset();\n}\n"],"names":["axios2","axios","createRequest","q","res","requestMarkups","data","largeImageURL","webformatURL","tags","likes","views","comments","downloads","requestsMarkups","arr","refs","handleSubmit","lightbox","SimpleLightbox","intervalId","e","search","iziToast","error"],"mappings":"owBACA,MAAMA,EAASC,EAAM,OAAO,CACxB,QAAS,2BACT,OAAQ,CACJ,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACL,CAAC,EAEM,SAASC,EAAcC,EAAG,CAC7B,OAAOH,EAAO,IAAI,GAAI,CAAC,OAAO,CAAC,EAAAG,CAAC,CAAC,CAAC,EAAE,KAAMC,GAAOA,EAAI,KAAK,IAAI,CAClE,CCbO,SAASC,EAAeC,EAAM,CACjC,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,8CAEmCC,CAAa;AAAA;AAAA;AAAA,2BAGhCC,CAAY;AAAA,2BACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAMJC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,gBAKpC,CAEO,SAASC,EAAgBC,EAAK,CACjC,OAAOA,EAAI,IAAIV,CAAc,EAAE,KAAK,EAAE,CAC1C,CC5BA,MAAMW,EAAO,CACT,SAAU,SAAS,cAAc,YAAY,EAC7C,KAAM,SAAS,cAAc,aAAa,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,IAAIC,EAAW,IAAIC,EAAe,eAAgB,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEGC,EAEJ,SAASH,EAAaI,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMC,EAASD,EAAE,cAAc,SAAS,MAAM,MAAM,OAEpD,GAAI,CAACC,EAAQ,CACTC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,kCACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDP,EAAK,OAAO,MAAM,QAAU,QAExBI,GACA,cAAcA,CAAU,EAG5BA,EAAa,YAAY,IAAM,CAC3BlB,EAAcoB,CAAM,EACf,KAAKhB,GAAQ,CACV,GAAI,CAACA,EAAK,OAAQ,CACdiB,EAAS,KAAK,CACV,MAAO,YACP,QAAS,8EACT,SAAU,UAClC,CAAqB,EACD,MACH,CACDP,EAAK,SAAS,UAAYF,EAAgBR,CAAI,EAC9CY,EAAS,QAAO,CAChC,CAAa,EACA,MAAMM,GAAS,CACZD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oDACT,SAAU,UAC9B,CAAiB,CACjB,CAAa,EACA,QAAQ,IAAM,CACXP,EAAK,OAAO,MAAM,QAAU,MAC5C,CAAa,CACR,EAAE,GAAI,EAEPK,EAAE,cAAc,OACpB"}